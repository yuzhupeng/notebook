# 常规操作

# TLS

```
 #include <stdio.h>

 __attribute((constructor)) void before_main()
 {
     printf("%s\n", "I Can Before Main");
 }

 __attribute((destructor)) void after_main()
 {
     printf("%s\n", "I Can Aftrer Main");
 }

 int main(int argc, char **argv)
 {
     printf("%s\n", "I Am Main");
     return 0;
 }
```

# UPX

# Shellcode保护方案.

# 链接器及加载器

# VMP

# OLLVM

一个很6的大哥写的文章,膜拜

```
 https://bbs.pediy.com/thread-260626-1.htm
 这个文章讲了很多，还是有很多无法理解的地方（没学过）
 
 https://bbs.pediy.com/user-884731.htm
 
 安卓方面
 https://bbs.pediy.com/user-home-682449.htm
 https://bbs.pediy.com/user-home-617255.htm
 https://bbs.pediy.com/user-home-630711.htm
```

# int3

一个比价老套的的指令

就是如果你执行了int3,就会发出信号SIGTRAP

```c
 #include <stdio.h>
 #include <signal.h>

 void handler(int signo) //处理函数
 {
 
 }

 int main(void)
 {
//signal(SIGTRAP, handler);
     __asm__("nop\n\t"
         "int3\n\t");
     printf("Hello from main!\n");
     return 0;
 }
```

# **虚假控制流(诈骗)**

# r指令乱序，使用B衔接

# 指令替换，替换为B指令

# 指令索引并且乱序，使用索引表来跳转