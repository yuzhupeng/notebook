# 常规

# 获取目标进程PID

参数只能是进程的WCHAR字符串

如果进程找不到或者不存在的话,返回-1=0xffffffff

```c
DWORD FindProcessID(WCHAR* szProcessName)//进程的名字可能是是w字符
{
    DWORD dwPID = 0xFFFFFFFF;
    HANDLE hSnapShot = INVALID_HANDLE_VALUE;
    PROCESSENTRY32W pe;

    // Get the snapshot of the system
    pe.dwSize = sizeof(PROCESSENTRY32W);
    hSnapShot = CreateToolhelp32Snapshot(TH32CS_SNAPALL, NULL);

    // find process
    Process32FirstW(hSnapShot, &pe);
    do
    {
        if (!wcscmp(szProcessName, pe.szExeFile))
        {
            dwPID = pe.th32ProcessID;
            break;
        }
    } while (Process32NextW(hSnapShot, &pe));

    CloseHandle(hSnapShot);

    return dwPID;
}
```

# 输出日志信息

```jsx
void DebugLog(const char* format, ...)
{
    va_list vl;
    char szLog[512] = { 0, };

    va_start(vl, format);
    sprintf(szLog, format, vl);
    va_end(vl);

    OutputDebugStringA(szLog);
}
```